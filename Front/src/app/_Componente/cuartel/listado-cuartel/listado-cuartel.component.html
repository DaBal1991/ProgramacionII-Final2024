<div class="container">

  <div
    class="card-header text-center bg-success border border-black text-white rounded mt-4 mb-4"
    style="font-weight: bold;"><h3>Cuarteles</h3>
  </div>

  <div class="d-flex justify-content-end mb-5">

    <input class="form-control mr-sm-2" type="search"
           placeholder="Filtrar listado (Criterios: C贸digo, nombre del cuartel o ubicaci贸n)..."
           [(ngModel)]="criterioBusqueda" name="criterioBusqueda" (keyup)="buscarCuartel()">

    <button *ngIf="isPermitido('OFICIAL') || isPermitido('ADMIN')" type="button"
            class="btn btn-success btn-lg border border-black rounded mx-2" routerLink="/registrarCuartel">Registrar
      Nuevo Cuartel
    </button>

    <button type="button"
            class="btn btn-danger btn-lg border border-black rounded" routerLink="/menuPrincipal">Volver
    </button>
  </div>

  <table class="table table-striped table-hover align-middle text-center">
    <thead class="table-success">
    <tr>
      <th scope="col">C贸digo</th>
      <th scope="col">Nombre</th>
      <th scope="col">Ubicaci贸n</th>
      <th scope="col">Estado</th>
      <th scope="col" *ngIf="isPermitido('OFICIAL') || isPermitido('ADMIN')">Modificar</th>
      <th scope="col" *ngIf="isPermitido('OFICIAL') || isPermitido('ADMIN')">Baja Permanente</th>
    </tr>
    </thead>
    <tbody class="table-group-divider">
    <ng-container *ngFor="let cuartel of cuartelesBuscados">
      <tr *ngIf="!(isPermitido('SOLDADO') && cuartel.id === 1)">
        <th scope="row">{{ cuartel.id }}</th>
        <td (click)="soldadosAsignados(cuartel.id)" style="cursor: pointer;">{{ cuartel.nombreCuartel }}
        </td>
        <td>{{ cuartel.ubicacion }}</td>

        <td>
          <span *ngIf="cuartel.estado">En Servicio</span>
          <span *ngIf="!cuartel.estado">Clausurado</span>
        </td>

        <td *ngIf="isPermitido('OFICIAL') || isPermitido('ADMIN')">
          <div>
            <button (click)="editarCuartel(cuartel.id)" class="btn btn-transparent btn-lg border border-black rounded">
              <i class="bi bi-pencil-fill" style="color: blue"></i></button>
          </div>
        </td>

        <td *ngIf="isPermitido('OFICIAL') || isPermitido('ADMIN')">
          <div>
            <button (click)="bajaCuartel(cuartel.id)" class="btn btn-transparent btn-lg border border-black rounded"><i
              class="bi bi-trash3-fill" style="color:red"></i></button>
          </div>
        </td>

      </tr>
    </ng-container>
    </tbody>
  </table>
</div>
